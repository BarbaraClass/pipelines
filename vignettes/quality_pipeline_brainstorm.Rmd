---
title: "Quality pipeline brainstorming"
author: "Liam D. Bailey & Stefan Vriend"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

Checks can be split into two separate groups: data quality checks and pipeline output checks.

# Data quality checks

These are checks to ensure that the provided data meet biological and data management expectations. Checks will include:

* Clutch size <= brood size <= number of fledglings

* Mass/Tarsus/WingLength should fit a normal distribution with expected mean and sd (values TBD)

* Mass/Tarsus/WingLength should not have values more than SD from the mean (values TBD)

* When new data are added, mean and SD of the data should not change substantially (values TBD)

* SampleYear cannot be later than the current year (we can't get data from the future...yet)

* BroodID/IndividualID/NestBoxID are unique.

* Referential integrity (N.B. We already know that this isn't the case for some datasets!!):
  * Every femaleID or maleID associated with a brood must have a record in the individual_data table
  * Every captured bird with an individual ID must have a record in the individual table (N.B. There may be captures where the bird was not ringed/ID'd. This data is still useful even if it is not associated with an individual.)
  * Every BroodID given to an individual should also be in the brood_data table (i.e. a chick can't come from a nest that doesn't exist)
  
# Pipeline output checks

These are checks that checks for bugs in the output of the pipeline.

* ClutchType (obsverved and calc) should only ever be: first, second, replacment, NA
* All dates (LayDate, HatchDate, FledgeDate, CaptureDate) should be in dd/mm/yyyy format (N.B. This may change because we may need to make it April days etc.)
* Sex should only ever be: M, F, U

  
  
